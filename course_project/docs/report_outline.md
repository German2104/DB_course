# План пояснительной записки (ГОСТ 7.32–2017)

## Титульный лист
- Название вуза/кафедры, дисциплина, тема проекта.
- Автор: Пермяков Герман Алексеевич.
- Руководитель (если требуется).

## Содержание
- Автоматическое оглавление.

## Введение
- Цели и задачи проекта.
- Объект и предмет исследования.
- Краткое описание LMS-lite.

## Аналитическая часть
- Аналоги: учебные LMS (MAI LMS, Moodle) и сравнительный анализ.
- Обоснование выбора PostgreSQL 16, FastAPI, React.
- Требования к системе (функциональные + нефункциональные).

## Проектная часть
### Архитектура
- Общая схема сервисов: frontend, backend, postgres.
- Схема взаимодействия по HTTP.

### Проектирование базы данных
- ER-модель (текст + диаграмма).
- Сущности: users, courses, enrollments, assignments, criteria, submissions, grades, files, notifications, audit_log, aggregates.
- Кардинальности 1:1, 1:N, N:M.

### Ограничения целостности
- PRIMARY KEY, FOREIGN KEY, UNIQUE, CHECK, NOT NULL.
- Каскадные UPDATE/DELETE.

### Триггеры и аудит
- Универсальная функция аудита.
- Триггеры на ключевые таблицы.
- Агрегированные таблицы и автообновление.

### VIEW, функции и отчёты
- 3 VIEW: прогресс, сводка по заданиям, аналитика проверок.
- Скалярные функции: рейтинг, прогресс, штраф за просрочку.
- Табличные функции: лидерборд, отчёт по заданию, нагрузка преподавателя.

### Индексы и производительность
- Индексы под WHERE/JOIN/ORDER BY.
- EXPLAIN ANALYZE до/после индекса.

### API и CRUD
- FastAPI + JWT.
- CRUD операции через ORM.
- Сложные отчёты через SQL.
- Batch-import endpoint + лог ошибок.

### Frontend
- Страницы: логин, курсы, курс, задание, загрузка решения, проверка, лидерборд.
- Связка с backend.

## Технологическая часть
- Docker-compose: сервисы и healthcheck.
- Инструкция запуска.
- Сидинг и миграции.
- Тестирование API.

## Заключение
- Достигнутые результаты.
- Возможные улучшения.

## Приложения
- Фрагменты SQL DDL, функции, триггеры, EXPLAIN ANALYZE.
- Скриншоты интерфейса.

---

# Чеклист демонстрации на защите
- [ ] Показать ER-модель и связи.
- [ ] CRUD через Swagger.
- [ ] Сложные SQL-запросы из `db/demo_queries.sql`.
- [ ] Триггеры аудита и агрегатов.
- [ ] VIEW и функции.
- [ ] Индексы + EXPLAIN ANALYZE до/после.
- [ ] Batch-import + лог ошибок.
- [ ] Поток: студент сдал → преподаватель проверил → рейтинг обновился.
- [ ] Работа фронтенда.
