# üö¶ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3: –ü—Ä–æ—Ü–µ–¥—É—Ä—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã

–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –±–∞–∑—ã –∏–∑ –õ–†1‚Äì–õ–†2 (—Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã). –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –≤—ã—á–∏—Å–ª–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫.

## –°–æ—Å—Ç–∞–≤
- `procedures_functions_triggers.sql` ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä—ã/—Ñ—É–Ω–∫—Ü–∏–∏ + —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.
- `demo.sql` ‚Äî –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ DML-–æ–ø–µ—Ä–∞—Ü–∏–∏, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É –ª–æ–≥–∏–∫–∏ –∏ –æ—à–∏–±–æ–∫.

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ `book_ticket_with_slot` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/—Å–ª–æ—Ç, —Å–æ–∑–¥–∞—ë—Ç —Ç–∏–∫–µ—Ç –∏ –∑–∞–ø–∏—Å—å; –ø–µ—Ä–µ–≤–æ–¥–∏—Ç unique/foreign/check –æ—à–∏–±–∫–∏ –≤ –±–∏–∑–Ω–µ—Å-–∫–æ–¥—ã `RB00x`.
- –§—É–Ω–∫—Ü–∏–∏ `fn_is_ticket_active` –∏ `fn_technician_utilization` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–∏–∫–µ—Ç–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Å—Ç–µ—Ä–∞ (% –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Å–ª–æ—Ç–æ–≤).
- –¢—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ `appointments` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ—Ç–∞/–º–∞—Å—Ç–µ—Ä–∞/—Å—Ç–∞—Ç—É—Å–∞ —Ç–∏–∫–µ—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å–ª–æ—Ç–∞.
- –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ `tickets` ‚Äî –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `last_updated_at` –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω—ã –≤ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∫–æ–¥–∞–º–∏ `RB001‚ÄìRB012`.

## –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å (psql)
```bash
psql -f lab-02/schema.sql
psql -f lab-02/seed.sql
psql -f lab-03/procedures_functions_triggers.sql
psql -f lab-03/demo.sql            # –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω—ã—Ö/–æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ `demo.sql`
- –£—Å–ø–µ—à–Ω–∞—è –±—Ä–æ–Ω—å: —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —Ç–∏–∫–µ—Ç –¥–ª—è `alice.johnson@example.com`, —Å–ª–æ—Ç `5` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–Ω—è—Ç—ã–º —Ç—Ä–∏–≥–≥–µ—Ä–æ–º.
- –û—à–∏–±–∫–∞ –±—Ä–æ–Ω–∏: –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ—Ç `5` –ª–æ–≤–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–≤–æ–¥–∏—Ç—Å—è `NOTICE` —Å —Ç–µ–∫—Å—Ç–æ–º –±–∏–∑–Ω–µ—Å-–æ—à–∏–±–∫–∏.
- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–∏–∫–µ—Ç–∞ `1`, —Ä–∞—Å—á—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞—Å—Ç–µ—Ä–∞ –î–º–∏—Ç—Ä–∏—è (—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—Ç–æ–≤ –∏ % –∑–∞–Ω—è—Ç–æ—Å—Ç–∏).
- –†–∞–±–æ—Ç–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤: —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å–ª–æ—Ç `5` (–ø–æ–ª–µ `is_booked` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è).

–í—Å–µ –æ–±—ä–µ–∫—Ç—ã —Å—Ç—Ä–æ—è—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º—ã –∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –õ–†2, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PostgreSQL –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
